<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.0 (0)
 -->
<!-- Pages: 1 -->
<svg width="2955pt" height="1076pt"
 viewBox="0.00 0.00 2954.75 1076.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1072)">
<polygon fill="white" stroke="none" points="-4,4 -4,-1072 2950.75,-1072 2950.75,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_application_startup_flow</title>
<polygon fill="none" stroke="red" points="1139.25,-755 1139.25,-888 2938.75,-888 2938.75,-755 1139.25,-755"/>
<text text-anchor="middle" x="2039" y="-860.25" font-family="Times,serif" font-size="25.00">Application Startup Flow</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_memory_map</title>
<polygon fill="none" stroke="green" points="8,-699 8,-1060 774.25,-1060 774.25,-699 8,-699"/>
<text text-anchor="middle" x="391.12" y="-1032.25" font-family="Times,serif" font-size="25.00">Memory map</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_partition_table</title>
<polygon fill="none" stroke="gold" points="1181.25,-8 1181.25,-677 2117.25,-677 2117.25,-8 1181.25,-8"/>
<text text-anchor="middle" x="1649.25" y="-649.25" font-family="Times,serif" font-size="25.00">Partition Table</text>
</g>
<!-- First stage (ROM) bootloader -->
<g id="node1" class="node">
<title>First stage (ROM) bootloader</title>
<polygon fill="#ff82ab" stroke="#ff82ab" points="1431,-843 1147.25,-843 1147.25,-807 1431,-807 1431,-843"/>
<text text-anchor="middle" x="1289.12" y="-818.77" font-family="Times,serif" font-size="18.00">First stage (ROM) bootloader</text>
</g>
<!-- Second Stage Bootloader -->
<g id="node2" class="node">
<title>Second Stage Bootloader</title>
<polygon fill="#ff82ab" stroke="#ff82ab" points="2075.12,-799 1831.12,-799 1831.12,-763 2075.12,-763 2075.12,-799"/>
<text text-anchor="middle" x="1953.12" y="-774.77" font-family="Times,serif" font-size="18.00">Second Stage Bootloader</text>
</g>
<!-- First stage (ROM) bootloader&#45;&gt;Second Stage Bootloader -->
<g id="edge1" class="edge">
<title>First stage (ROM) bootloader&#45;&gt;Second Stage Bootloader</title>
<path fill="none" stroke="#8b1a1a" d="M1431.33,-815.61C1546.15,-807.98 1706.98,-797.29 1819.44,-789.82"/>
<polygon fill="#8b1a1a" stroke="#8b1a1a" points="1819.6,-793.32 1829.34,-789.16 1819.13,-786.33 1819.6,-793.32"/>
<text text-anchor="middle" x="1614" y="-818.32" font-family="Times,serif" font-size="14.00" fill="#8b1a1a">Checks and loads the second stage bootloader</text>
</g>
<!-- Application Startup -->
<g id="node3" class="node">
<title>Application Startup</title>
<polygon fill="#ff82ab" stroke="#ff82ab" points="2930.75,-843 2398,-843 2398,-763 2930.75,-763 2930.75,-843"/>
<text text-anchor="start" x="2575.88" y="-822.9" font-family="Times,serif" font-size="18.00">Application Startup</text>
<text text-anchor="start" x="2406" y="-804.9" font-family="Times,serif" font-size="18.00"> &#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="2442" y="-804.9" font-family="Times,serif" font-size="14.00">1. Port initialization of hardware and basic C runtime environment.</text>
<text text-anchor="start" x="2433.75" y="-786.9" font-family="Times,serif" font-size="18.00"> &#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="2469.75" y="-786.9" font-family="Times,serif" font-size="14.00">2. System initialization of software services and FreeRTOS.</text>
<text text-anchor="start" x="2476.5" y="-768.9" font-family="Times,serif" font-size="18.00"> &#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="2512.5" y="-768.9" font-family="Times,serif" font-size="14.00">3. Running the main task and calling app_main.</text>
</g>
<!-- Second Stage Bootloader&#45;&gt;Application Startup -->
<g id="edge2" class="edge">
<title>Second Stage Bootloader&#45;&gt;Application Startup</title>
<path fill="none" stroke="#8b1a1a" d="M2075.24,-784.76C2160.65,-787.41 2278.58,-791.06 2386.43,-794.41"/>
<polygon fill="#8b1a1a" stroke="#8b1a1a" points="2386.22,-797.9 2396.33,-794.72 2386.44,-790.91 2386.22,-797.9"/>
<text text-anchor="middle" x="2253.62" y="-797.92" font-family="Times,serif" font-size="14.00" fill="#8b1a1a">Transfer management to the image</text>
</g>
<!-- ROM -->
<g id="node4" class="node">
<title>ROM</title>
<polygon fill="#9aff9a" stroke="#9aff9a" points="647.38,-1015 134.88,-1015 134.88,-971 647.38,-971 647.38,-1015"/>
<text text-anchor="start" x="367.5" y="-994.9" font-family="Times,serif" font-size="18.00">ROM</text>
<text text-anchor="start" x="142.88" y="-976.9" font-family="Times,serif" font-size="18.00"> &#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="178.88" y="-976.9" font-family="Times,serif" font-size="14.00">baked during the manufacturing process and cannot be changed</text>
</g>
<!-- ROM&#45;&gt;First stage (ROM) bootloader -->
<g id="edge14" class="edge">
<title>ROM:e&#45;&gt;First stage (ROM) bootloader:w</title>
<path fill="none" stroke="darkgreen" stroke-width="1.5" d="M659.71,-989.18C733.82,-964.17 1146.25,-825 1146.25,-825"/>
<polygon fill="darkgreen" stroke="darkgreen" stroke-width="1.5" points="658.88,-985.76 650.53,-992.27 661.12,-992.39 658.88,-985.76"/>
<text text-anchor="middle" x="956.75" y="-959.42" font-family="Times,serif" font-size="14.00" fill="darkgreen">Execute reset vector code</text>
</g>
<!-- SRAM -->
<g id="node5" class="node">
<title>SRAM</title>
<polygon fill="#9aff9a" stroke="#9aff9a" points="560,-751 222.25,-751 222.25,-707 560,-707 560,-751"/>
<text text-anchor="start" x="362.62" y="-730.9" font-family="Times,serif" font-size="18.00">SRAM</text>
<text text-anchor="start" x="230.25" y="-712.9" font-family="Times,serif" font-size="18.00"> &#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="266.25" y="-712.9" font-family="Times,serif" font-size="14.00">There are three internal SRAM modules</text>
</g>
<!-- SRAM&#45;&gt;Second Stage Bootloader -->
<g id="edge16" class="edge">
<title>SRAM:e&#45;&gt;Second Stage Bootloader:w</title>
<path fill="none" stroke="darkgreen" stroke-width="1.5" d="M572.2,-729.73C661.8,-735.07 1214.5,-768 1214.5,-768 1214.5,-768 1831.12,-781 1831.12,-781"/>
<polygon fill="darkgreen" stroke="darkgreen" stroke-width="1.5" points="572.46,-726.24 562.27,-729.14 572.04,-733.22 572.46,-726.24"/>
<text text-anchor="middle" x="1289.12" y="-771.95" font-family="Times,serif" font-size="14.00" fill="darkgreen">Resides at offset 0x0</text>
</g>
<!-- SRAM&#45;&gt;Second Stage Bootloader -->
<g id="edge17" class="edge">
<title>SRAM:e&#45;&gt;Second Stage Bootloader:w</title>
<path fill="none" stroke="darkgreen" stroke-width="1.5" d="M572.2,-728.93C674.01,-728.34 1378.38,-724.25 1378.38,-724.25 1378.38,-724.25 1831.12,-781 1831.12,-781"/>
<polygon fill="darkgreen" stroke="darkgreen" stroke-width="1.5" points="572.25,-725.43 562.27,-728.99 572.29,-732.43 572.25,-725.43"/>
<text text-anchor="middle" x="1289.12" y="-710.95" font-family="Times,serif" font-size="14.00" fill="darkgreen">Loads app image to RAM</text>
</g>
<!-- RTC&#45;SRAM -->
<g id="node6" class="node">
<title>RTC&#45;SRAM</title>
<polygon fill="#9aff9a" stroke="#9aff9a" points="561.12,-883 221.12,-883 221.12,-839 561.12,-839 561.12,-883"/>
<text text-anchor="start" x="340.12" y="-862.9" font-family="Times,serif" font-size="18.00">RTC&#45;SRAM</text>
<text text-anchor="start" x="229.12" y="-844.9" font-family="Times,serif" font-size="18.00"> &#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="265.12" y="-844.9" font-family="Times,serif" font-size="14.00">RTC&#45;Slow and RTC&#45;Fast are r/w memory</text>
</g>
<!-- Peripheral registers -->
<g id="node7" class="node">
<title>Peripheral registers</title>
<polygon fill="#9aff9a" stroke="#9aff9a" points="764.38,-949 17.88,-949 17.88,-905 764.38,-905 764.38,-949"/>
<text text-anchor="start" x="301.12" y="-928.9" font-family="Times,serif" font-size="18.00">Peripheral registers</text>
<text text-anchor="start" x="25.88" y="-910.9" font-family="Times,serif" font-size="18.00"> &#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="61.88" y="-910.9" font-family="Times,serif" font-size="14.00">Each peripheral module has its own memory boundaries given by its base address and block size</text>
</g>
<!-- EFUSE -->
<g id="node8" class="node">
<title>EFUSE</title>
<polygon fill="#9aff9a" stroke="#9aff9a" points="766.25,-817 16,-817 16,-773 766.25,-773 766.25,-817"/>
<text text-anchor="start" x="357.75" y="-796.9" font-family="Times,serif" font-size="18.00">EFUSE</text>
<text text-anchor="start" x="24" y="-778.9" font-family="Times,serif" font-size="18.00"> &#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="60" y="-778.9" font-family="Times,serif" font-size="14.00">4096 bits of one&#45;time&#45;programmable memory where hardware and encryption settings are stored</text>
</g>
<!-- EFUSE&#45;&gt;First stage (ROM) bootloader -->
<g id="edge15" class="edge">
<title>EFUSE:e&#45;&gt;First stage (ROM) bootloader:w</title>
<path fill="none" stroke="darkgreen" stroke-width="1.5" d="M779.43,-795.96C844.3,-801.1 1146.25,-825 1146.25,-825"/>
<polygon fill="darkgreen" stroke="darkgreen" stroke-width="1.5" points="779.76,-792.48 769.51,-795.18 779.21,-799.46 779.76,-792.48"/>
<text text-anchor="middle" x="956.75" y="-827.35" font-family="Times,serif" font-size="14.00" fill="darkgreen">May configure SPI flash based on EFUSE values</text>
</g>
<!-- Type data -->
<g id="node9" class="node">
<title>Type data</title>
<polygon fill="palegoldenrod" stroke="palegoldenrod" points="1342.12,-133 1236.12,-133 1236.12,-97 1342.12,-97 1342.12,-133"/>
<text text-anchor="middle" x="1289.12" y="-108.78" font-family="Times,serif" font-size="18.00">Type data</text>
</g>
<!-- data SubType nvs -->
<g id="node13" class="node">
<title>data SubType nvs</title>
<polygon fill="palegoldenrod" stroke="palegoldenrod" points="2041.75,-52 1864.5,-52 1864.5,-16 2041.75,-16 2041.75,-52"/>
<text text-anchor="middle" x="1953.12" y="-27.77" font-family="Times,serif" font-size="18.00">data SubType nvs</text>
</g>
<!-- Type data&#45;&gt;data SubType nvs -->
<g id="edge5" class="edge">
<title>Type data&#45;&gt;data SubType nvs</title>
<path fill="none" stroke="#8b6508" d="M1342.62,-108.58C1452.94,-95.08 1710.36,-63.58 1852.84,-46.15"/>
<polygon fill="#8b6508" stroke="#8b6508" points="1853.16,-49.64 1862.66,-44.95 1852.31,-42.69 1853.16,-49.64"/>
</g>
<!-- data SubType nvs_keys -->
<g id="node14" class="node">
<title>data SubType nvs_keys</title>
<polygon fill="palegoldenrod" stroke="palegoldenrod" points="2066.88,-110 1839.38,-110 1839.38,-74 2066.88,-74 2066.88,-110"/>
<text text-anchor="middle" x="1953.12" y="-85.78" font-family="Times,serif" font-size="18.00">data SubType nvs_keys</text>
</g>
<!-- Type data&#45;&gt;data SubType nvs_keys -->
<g id="edge6" class="edge">
<title>Type data&#45;&gt;data SubType nvs_keys</title>
<path fill="none" stroke="#8b6508" d="M1342.62,-113.18C1446.72,-109.56 1681.79,-101.39 1827.68,-96.32"/>
<polygon fill="#8b6508" stroke="#8b6508" points="1827.51,-99.83 1837.38,-95.99 1827.27,-92.84 1827.51,-99.83"/>
</g>
<!-- data SubType ota -->
<g id="node15" class="node">
<title>data SubType ota</title>
<polygon fill="palegoldenrod" stroke="palegoldenrod" points="2040.62,-168 1865.62,-168 1865.62,-132 2040.62,-132 2040.62,-168"/>
<text text-anchor="middle" x="1953.12" y="-143.78" font-family="Times,serif" font-size="18.00">data SubType ota</text>
</g>
<!-- Type data&#45;&gt;data SubType ota -->
<g id="edge7" class="edge">
<title>Type data&#45;&gt;data SubType ota</title>
<path fill="none" stroke="#8b6508" d="M1342.62,-117.78C1453.24,-123.62 1711.75,-137.29 1853.99,-144.81"/>
<polygon fill="#8b6508" stroke="#8b6508" points="1853.61,-148.3 1863.78,-145.33 1853.98,-141.31 1853.61,-148.3"/>
</g>
<!-- data SubType phy -->
<g id="node16" class="node">
<title>data SubType phy</title>
<polygon fill="palegoldenrod" stroke="palegoldenrod" points="2042.88,-226 1863.38,-226 1863.38,-190 2042.88,-190 2042.88,-226"/>
<text text-anchor="middle" x="1953.12" y="-201.78" font-family="Times,serif" font-size="18.00">data SubType phy</text>
</g>
<!-- Type data&#45;&gt;data SubType phy -->
<g id="edge8" class="edge">
<title>Type data&#45;&gt;data SubType phy</title>
<path fill="none" stroke="#8b6508" d="M1342.62,-122.38C1452.64,-137.83 1708.97,-173.84 1851.69,-193.89"/>
<polygon fill="#8b6508" stroke="#8b6508" points="1851.14,-197.35 1861.53,-195.27 1852.11,-190.42 1851.14,-197.35"/>
</g>
<!-- Type app -->
<g id="node10" class="node">
<title>Type app</title>
<polygon fill="palegoldenrod" stroke="palegoldenrod" points="1338.75,-342 1239.5,-342 1239.5,-306 1338.75,-306 1338.75,-342"/>
<text text-anchor="middle" x="1289.12" y="-317.77" font-family="Times,serif" font-size="18.00">Type app</text>
</g>
<!-- Type app&#45;&gt;Second Stage Bootloader -->
<g id="edge18" class="edge">
<title>Type app:e&#45;&gt;Second Stage Bootloader:w</title>
<path fill="none" stroke="#cd6600" stroke-width="1.5" d="M1348.68,-332.32C1415.14,-394.26 1830.12,-781 1830.12,-781"/>
<polygon fill="#cd6600" stroke="#cd6600" stroke-width="1.5" points="1351.11,-329.81 1341.41,-325.55 1346.34,-334.93 1351.11,-329.81"/>
<text text-anchor="middle" x="1614" y="-676.7" font-family="Times,serif" font-size="14.00" fill="#cd6600">Select the app partition to boot</text>
</g>
<!-- app SubType factory -->
<g id="node17" class="node">
<title>app SubType factory</title>
<polygon fill="palegoldenrod" stroke="palegoldenrod" points="2054.88,-284 1851.38,-284 1851.38,-248 2054.88,-248 2054.88,-284"/>
<text text-anchor="middle" x="1953.12" y="-259.77" font-family="Times,serif" font-size="18.00">app SubType factory</text>
</g>
<!-- Type app&#45;&gt;app SubType factory -->
<g id="edge3" class="edge">
<title>Type app&#45;&gt;app SubType factory</title>
<path fill="none" stroke="#8b6508" d="M1339.07,-319.71C1444.1,-310.51 1693.37,-288.67 1839.67,-275.85"/>
<polygon fill="#8b6508" stroke="#8b6508" points="1839.72,-279.36 1849.38,-275 1839.11,-272.39 1839.72,-279.36"/>
</g>
<!-- app SubType ota_n -->
<g id="node18" class="node">
<title>app SubType ota_n</title>
<polygon fill="palegoldenrod" stroke="palegoldenrod" points="2047.38,-342 1858.88,-342 1858.88,-306 2047.38,-306 2047.38,-342"/>
<text text-anchor="middle" x="1953.12" y="-317.77" font-family="Times,serif" font-size="18.00">app SubType ota_n</text>
</g>
<!-- Type app&#45;&gt;app SubType ota_n -->
<g id="edge4" class="edge">
<title>Type app&#45;&gt;app SubType ota_n</title>
<path fill="none" stroke="#8b6508" d="M1339.07,-324C1445.99,-324 1702.41,-324 1847.48,-324"/>
<polygon fill="#8b6508" stroke="#8b6508" points="1847.08,-327.5 1857.08,-324 1847.08,-320.5 1847.08,-327.5"/>
</g>
<!-- Type bootloader -->
<g id="node11" class="node">
<title>Type bootloader</title>
<polygon fill="palegoldenrod" stroke="palegoldenrod" points="1370.62,-458 1207.62,-458 1207.62,-422 1370.62,-422 1370.62,-458"/>
<text text-anchor="middle" x="1289.12" y="-433.77" font-family="Times,serif" font-size="18.00">Type bootloader</text>
</g>
<!-- bootloader SubType primary -->
<g id="node19" class="node">
<title>bootloader SubType primary</title>
<polygon fill="palegoldenrod" stroke="palegoldenrod" points="2090.88,-516 1815.38,-516 1815.38,-480 2090.88,-480 2090.88,-516"/>
<text text-anchor="middle" x="1953.12" y="-491.77" font-family="Times,serif" font-size="18.00">bootloader SubType primary</text>
</g>
<!-- Type bootloader&#45;&gt;bootloader SubType primary -->
<g id="edge9" class="edge">
<title>Type bootloader&#45;&gt;bootloader SubType primary</title>
<path fill="none" stroke="#8b6508" d="M1370.97,-447.08C1478.41,-456.5 1670.22,-473.3 1803.98,-485.02"/>
<polygon fill="#8b6508" stroke="#8b6508" points="1803.35,-488.48 1813.61,-485.86 1803.96,-481.51 1803.35,-488.48"/>
</g>
<!-- bootloader SubType ota -->
<g id="node20" class="node">
<title>bootloader SubType ota</title>
<polygon fill="palegoldenrod" stroke="palegoldenrod" points="2069.12,-400 1837.12,-400 1837.12,-364 2069.12,-364 2069.12,-400"/>
<text text-anchor="middle" x="1953.12" y="-375.77" font-family="Times,serif" font-size="18.00">bootloader SubType ota</text>
</g>
<!-- Type bootloader&#45;&gt;bootloader SubType ota -->
<g id="edge10" class="edge">
<title>Type bootloader&#45;&gt;bootloader SubType ota</title>
<path fill="none" stroke="#8b6508" d="M1370.97,-432.92C1484.36,-422.98 1691.75,-404.81 1825.66,-393.08"/>
<polygon fill="#8b6508" stroke="#8b6508" points="1825.62,-396.6 1835.27,-392.24 1825,-389.62 1825.62,-396.6"/>
</g>
<!-- bootloader SubType recovery -->
<g id="node21" class="node">
<title>bootloader SubType recovery</title>
<polygon fill="palegoldenrod" stroke="palegoldenrod" points="2094.25,-458 1812,-458 1812,-422 2094.25,-422 2094.25,-458"/>
<text text-anchor="middle" x="1953.12" y="-433.77" font-family="Times,serif" font-size="18.00">bootloader SubType recovery</text>
</g>
<!-- Type bootloader&#45;&gt;bootloader SubType recovery -->
<g id="edge11" class="edge">
<title>Type bootloader&#45;&gt;bootloader SubType recovery</title>
<path fill="none" stroke="#8b6508" d="M1370.97,-440C1477.49,-440 1666.94,-440 1800.52,-440"/>
<polygon fill="#8b6508" stroke="#8b6508" points="1800.14,-443.5 1810.14,-440 1800.14,-436.5 1800.14,-443.5"/>
</g>
<!-- Type partition_table -->
<g id="node12" class="node">
<title>Type partition_table</title>
<polygon fill="palegoldenrod" stroke="palegoldenrod" points="1389,-603 1189.25,-603 1189.25,-567 1389,-567 1389,-603"/>
<text text-anchor="middle" x="1289.12" y="-578.77" font-family="Times,serif" font-size="18.00">Type partition_table</text>
</g>
<!-- partition_table SubType primary -->
<g id="node22" class="node">
<title>partition_table SubType primary</title>
<polygon fill="palegoldenrod" stroke="palegoldenrod" points="2109.25,-574 1797,-574 1797,-538 2109.25,-538 2109.25,-574"/>
<text text-anchor="middle" x="1953.12" y="-549.77" font-family="Times,serif" font-size="18.00">partition_table SubType primary</text>
</g>
<!-- Type partition_table&#45;&gt;partition_table SubType primary -->
<g id="edge12" class="edge">
<title>Type partition_table&#45;&gt;partition_table SubType primary</title>
<path fill="none" stroke="#8b6508" d="M1389.23,-580.66C1493.83,-576.08 1660.52,-568.77 1785.41,-563.3"/>
<polygon fill="#8b6508" stroke="#8b6508" points="1785.25,-566.81 1795.09,-562.88 1784.95,-559.82 1785.25,-566.81"/>
</g>
<!-- partition_table SubType ota -->
<g id="node23" class="node">
<title>partition_table SubType ota</title>
<polygon fill="palegoldenrod" stroke="palegoldenrod" points="2087.5,-632 1818.75,-632 1818.75,-596 2087.5,-596 2087.5,-632"/>
<text text-anchor="middle" x="1953.12" y="-607.77" font-family="Times,serif" font-size="18.00">partition_table SubType ota</text>
</g>
<!-- Type partition_table&#45;&gt;partition_table SubType ota -->
<g id="edge13" class="edge">
<title>Type partition_table&#45;&gt;partition_table SubType ota</title>
<path fill="none" stroke="#8b6508" d="M1389.23,-589.34C1500.05,-594.2 1680.55,-602.1 1807.21,-607.65"/>
<polygon fill="#8b6508" stroke="#8b6508" points="1806.87,-611.14 1817.01,-608.08 1807.18,-604.15 1806.87,-611.14"/>
</g>
</g>
</svg>
